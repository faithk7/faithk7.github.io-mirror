# Enable compression
AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript application/x-javascript

# Add correct content-type for JavaScript files
AddType application/javascript .js

# Set proper encoding
AddDefaultCharset UTF-8

# Cache static assets for 1 year
<FilesMatch "\.(js|css|jpg|jpeg|png|gif|ico|svg|webp)$">
    Header set Cache-Control "public, max-age=31536000, immutable"
</FilesMatch>

# Cache HTML files for 1 hour
<FilesMatch "\.html$">
    Header set Cache-Control "public, max-age=3600, must-revalidate"
</FilesMatch>

# Cache JSON files for 1 day
<FilesMatch "\.json$">
    Header set Cache-Control "public, max-age=86400, must-revalidate"
</FilesMatch>

# Cache XML files for 1 day
<FilesMatch "\.xml$">
    Header set Cache-Control "public, max-age=86400, must-revalidate"
</FilesMatch>

# Cache markdown files for 1 day
<FilesMatch "\.md$">
    Header set Cache-Control "public, max-age=86400, must-revalidate"
</FilesMatch>

# Cache images for 1 week
<FilesMatch "/assets/images/.*">
    Header set Cache-Control "public, max-age=604800, immutable"
</FilesMatch>

# Cache fonts for 1 year
<FilesMatch "/assets/fonts/.*">
    Header set Cache-Control "public, max-age=31536000, immutable"
</FilesMatch>

# Cache icons for 1 year
<FilesMatch "/assets/icons/.*">
    Header set Cache-Control "public, max-age=31536000, immutable"
</FilesMatch>

# Enable Keep-Alive
<IfModule mod_headers.c>
    Header set Connection keep-alive
</IfModule>

# Compress JavaScript files
<FilesMatch "\.js$">
    SetOutputFilter DEFLATE
    Header append Vary Accept-Encoding
</FilesMatch>